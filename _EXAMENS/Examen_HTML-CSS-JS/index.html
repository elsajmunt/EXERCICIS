<!DOCTYPE html>
<html lang="es">
	<head>
		<meta HTTP-EQUIV="Expires" CONTENT="no-cache">
		<meta charset="UTF-8">
		<meta name="Enquesta" content="Formulari">
		<link rel="stylesheet" href="estils.css">
		<title>Enquesta Xarxa Social</title>
	</head>
	<body>
		<header> 
			<nav> <!-- BARRA NAVEGACIÓ XARXA SOCIAL ------------------------>
			<a href="index.html"><img src="imatges/logo.jpg" alt="Logo" width="90" height="55"></a>
			<ul>
				<li><a href="index.html">Inici</a></li>
				<li><a href="#">Amics</a></li>
				<li><a href="#">Contacte</a></li>
			</ul>
			</nav>
		</header>
		<div class="contingut">
			<div class=" imatge_enquesta">
				<img src="imatges/enquesta_personatges.png" alt="Enquesta Personatges" width="70" height="70" class=" imatge_enquesta">
			</div>	
			<span class="titul_enquesta">Crea aquí la teva enquesta</span>
		</div>

		<form id="elForm" name="miForm"> <!-- FORMULARI CREAR ENQUESTA ------------------------>

			<label for="nom_enquesta" class="required">Nom de l'Enquesta</label> <!-- NOM DE L'ENQUESTA ---->
			<input type="text" id="nom_enquesta" name="nom_enquesta" placeholder="Posa un nom a l'Enquesta"> 
			<span id="avis_nom_enquesta"></span>	

			<label for="opcio_1" class="required">Opció 1:</label> <!-- OPCIÓ 1 ---->
				<input type="text" id="opcio_1" name="opcio_1" placeholder="Escriu l'opció 1"> 
				<span id="avis_opcio_1"></span>		

			<label for="opcio_2" class="required">Opció 2:</label> <!-- OPCIÓ 2 ----->
			<input type="text" id="opcio_2" name="opcio_2" placeholder="Escriu l'opció 2">
			<span id="avis_opcio_2"></span>	

			<input type="submit" class="boto" name="envio" value="Crear">
		</form>

		<script> // JS
			let elFormulari = document.getElementById("elForm");
			elFormulari.addEventListener("submit", function (event) { //FUNCIÓ sense nom. Noms elements PREDETERMINATS. Salta al clicar Submit
				event.preventDefault();

				// VARIABLES: /////// -------------------------------------------------------------------------------
				let resultat = true;  // true ACCEPTA QUE D'ENTRADA TOT ESTÀ BÉ o ÉS VALID //

				let nomEnquesta = document.getElementById("nom_enquesta").value.trim(); // NOM ENQUESTA //---------
				let avisNomEnquesta = document.getElementById("avis_nom_enquesta");

				let opcio1 = document.getElementById("opcio_1").value.trim(); // OPCIÓ 1 //---------
				let avisOpcio1 = document.getElementById("avis_opcio_1");

				let opcio2 = document.getElementById("opcio_2").value.trim(); // OPCIÓ 2 //---------
				let avisOpcio2 = document.getElementById("avis_opcio_2");

				// CONDICIONS VALIDACIONS: //////// --------------------------------------------------------------------
				if (nomEnquesta.length == 0) { // NOM ENQUESTA Obligatori // -------------------	
					avisNomEnquesta.innerHTML = "El nom de l'enquesta és obligatori!"
					resultat = false
				}
				else {
					avisNomEnquesta.innerHTML = "";
				}

				if (opcio1.length == 0) { // OPCIÓ 1 Obligatori // -------------------	
					avisOpcio1.innerHTML = "l'Opció 1 és obligatoria!"
					resultat = false
				}
				else {
					avisNomEnquesta.innerHTML = "";
				}

				if (opcio2.length == 0) { // OPCIÓ 2 Obligatori // -------------------	
					avisOpcio2.innerHTML = "l'Opció 2 és obligatoria!"
					resultat = false
				}
				else {
					avisNomEnquesta.innerHTML = "";
				}

				// ENVIO  //////// -----------------------------------------------------------------------------
				if(resultat) {
					// REDIRIGUEIXO A ON TOQUI
					window.location = "./enquesta_rebuda.html"
				}

				return resultat;
			})
		</script>
	</body>
</html>